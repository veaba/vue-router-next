<!DOCTYPE html>
<html lang="en">
<head>
		<meta charset="UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta http-equiv="X-UA-Compatible" content="ie=edge"/>
		<title>Vue Router Examples - Hash</title>
		<!-- TODO: replace with local imports for promises and anything else needed -->
		<script src="https://polyfill.io/v3/polyfill.min.js?features=default%2Ces2015"></script>
</head>
<body>
<a href="/">&larr; Examples index</a>
<div id="app"></div>
</body>
<script>
  // match route  script
  console.info('match start ===>')
  
  const appTag = document.querySelector('#app')
  appTag.addEventListener('click', function(event) {
    const target = event.target
    if (target.tagName === 'A') {
      const spanNode = document.createElement('span')
      const childNodeSpan = target.querySelector('span')
      if (childNodeSpan) {
        target.removeChild(childNodeSpan)
      }
      let aText = target.textContent
      console.info('aText==>', aText)
      aText = aText.trim()
      aText = aText.replace(/^.*redirects to/, '').replace(')', '')
      aText = aText.trim()
      let spanStr = ''
      if (location.pathname + location.search === '/redirect' + aText) {
        spanNode.style.color = 'green'
        spanStr = '/redirect' + aText + '===' + location.pathname + ' --> match success'
      } else {
        spanNode.style.color = 'red'
        spanStr = '/redirect' + aText + '!==' + location.pathname + ' --> match error'
      }
      
      const spanText = document.createTextNode(spanStr)
      spanNode.appendChild(spanText)
      target.appendChild(spanNode)
    }
    
  })

</script>
</html>
